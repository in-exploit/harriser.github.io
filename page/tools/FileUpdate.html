<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <!-- <link rel="stylesheet" href="../resource/css/partition.css"> -->
  <link rel="stylesheet" href="../../resource/tools/tools.css">
  <link rel="stylesheet" href="../../resource/tools/css/fileup.css">
  <link rel="stylesheet" href="../../resource/tools/css/btn.css">
  <title>文件上传</title>
  <style>
  </style>

</head>

<body>


<div id="main">
  <!--  #header -->


  <div id="fileUpdate">

    <div class="update">

      <div class="update_btn">
        <button id="btnAnon" class="btn-gradient blue small">AnonFiles</button>
        <button id="btnBay" class="btn-gradient purple small">BayFiles</button>
      </div>

      <form id="update_sub" class="update_drop" action="https://api.bayfiles.com/upload" enctype="multipart/form-data" method="POST">

        <div class="drop_change">
          <div id="drop_zone">
            <svg aria-hidden="true" fill="#bbb" width="48" height="48" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"></path>
            </svg>

            <label>
              <input id="drop_file" name="file" type="file">
              <strong>点击选择文件或者拖动到这里</strong>
            </label>
          </div>

          <div class="drop_msg">
            <strong>文件名：<span class="drop_msg_name"></span></strong>
            <!--<strong>扩展名：<span class="drop_msg_ext"></span></strong>-->
            <strong>文件大小：<span class="drop_msg_size"></span></strong>
          </div>
        </div>

        <output class="output"><input class="btn-gradient orange small" type="submit" value="提交"></output>
      </form>

    </div>

	<div class="errCode">
      <h3>错误代码和类型</h3>
      <ul class="errCode_centent">
        <li><code>(10) ERROR_FILE_NOT_codeROVIDED</code></li>
        <li><code>(11) ERROR_FILE_EMcodeTY</code></li>
        <li><code>(12) ERROR_FILE_INVALID</code></li>
        <li><code>(20) ERROR_USER_MAX_FILES_codeER_HOUR_REACHED</code></li>
        <li><code>(21) ERROR_USER_MAX_FILES_codeER_DAY_REACHED</code></li>
        <li><code>(22) ERROR_USER_MAX_BYTES_codeER_HOUR_REACHED</code></li>
        <li><code>(23) ERROR_USER_MAX_BYTES_codeER_DAY_REACHED</code></li>
        <li><code>(30) ERROR_FILE_DISALLOWED_TYcodeE</code></li>
        <li><code>(31) ERROR_FILE_SIZE_EXCEEDED</code></li>
        <li><code>(32) ERROR_FILE_BANNED</code></li>
        <li><code>(40) STATUS_ERROR_SYSTEM_FAILURE</code></li>
      </ul>
    </div>
  </div>

</div>







</body>

</html>
<script src="../../resource/js/jquery.min.js"></script>
<!--<script>

  // console.log(_0x4258);


  function gb_eventListener () {
    let oDiv_input_gb = document.getElementById('input_gb');
    let oDiv_input_gb_value = "请输入分区容量(GB)";
    oDiv_input_gb.onkeydown = function (event) {
      if(event.keyCode==13){
        makeTableSingle();
        return false;
      }
      // kenDown.value="请输入分区容量(GB)...";
    };
    oDiv_input_gb.onfocus = function () {
      if(this.value == oDiv_input_gb_value) {
        this.value = '';
        this.style.color='#296F93'
      }
    };
    oDiv_input_gb.onblur = function () {
      if(this.value == '') {
        this.value = oDiv_input_gb_value;
        this.style.color='#cccccc';
      }
    };
  }
  // gb_eventListener();




  //makeTable

  // console.log(par_table);





</script>-->
<script>

  var btnAnon = $("#btnAnon");
  // https://api.anonfiles.com/upload?token=7718160e7ff0ea14
  var btnBay = $("#btnBay");
  // https://api.bayfiles.com/upload
  var update_sub = $("#update_sub");

  btnAnon.click(function () {
    update_sub.attr("action", "https://api.anonfiles.com/upload?token=7718160e7ff0ea14")
  });
  btnBay.click(function () {
    update_sub.attr("action", "https://api.bayfiles.com/upload")
  });



  var drop_file=$("#drop_file");

  var msg_name=$(".drop_msg_name");
  var msg_ext=$(".drop_msg_ext");
  var msg_size=$(".drop_msg_size");
  var size="";
  var size_num="";

  // 隐藏扩展名
  // msg_ext.parent().css("display", "none");

  $(".drop_change").change(function () {
    var file = "";
    var fileName = "";
    var fileExt = "";

    size = drop_file[0].files[0].size;
    // 获取文件的value值
    file = drop_file.val();
    // 获取文件名+扩展名
    fileName = file.split("\\").pop();
    // 获取文件名
    // fileName = fileName.substring(0, fileName.lastIndexOf("."));
    // 获取文件的扩展名
    fileExt = file.substr(file.lastIndexOf("."));

    // 文件大小计算
    if(size <= 1000000){
      size_num = ((drop_file[0].files[0].size)/1024).toFixed(2);
      msg_size.html(`${size_num} KB`);
    }else if(size > 1000000 <= 10000000){
      size_num = (((drop_file[0].files[0].size)/1024)/1024).toFixed(2);
      msg_size.html(`${size_num} MB`);
    }

    msg_name.html(fileName);
    msg_ext.html(fileExt);

  });



</script>
